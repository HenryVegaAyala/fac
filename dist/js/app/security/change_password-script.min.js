function addValidFormRegister(){$("#current_password").rules("add",{required:!0}),$("#new_password").rules("add",{required:!0}),$("#confirm_password").rules("add",{required:!0})}function LimpiarForm(){$("#current_password").val(""),$("#new_password").val(""),$("#confirm_password").val("")}function CambiarClave(){if($("#form1").valid()){var r=new FormData,a=$("#form1 :input").serializeArray();$.each(a,function(a,e){r.append(e.name,e.value)}),precargaExp("#form1",!0),$.ajax({type:"POST",url:"services/usuarios/changepassword-post.php",contentType:!1,processData:!1,cache:!1,dataType:"json",data:r,success:function(r){precargaExp("#form1",!1),MessageBox(r.titulomsje,r.contenidomsje,"[Aceptar]",function(){"0"!=r.rpta&&(LimpiarForm(),$("#current_password").focus())})},error:function(r){console.log(r)}})}}$(function(){$("#form1").validate({lang:"es",showErrors:showErrorsInValidate}),addValidFormRegister(),$("#password_modal_save").on("click",function(r){r.preventDefault(),CambiarClave()})});