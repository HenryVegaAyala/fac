function precargaExp(e,t){t?$(e).append('<div class="preloaderbar" aria-busy="true" aria-label="Loading, please wait." role="progressbar"></div>'):$(e+" .preloaderbar").remove()}function CuadrarColumnasTabla(e){var t;t=$("#tableDetalle ihead table tbody tr:last td"),countorws=t.length}function customAutoSearcd(e,t,n){$(t).autocomplete({source:function(t,n){$.getJSON("public/generic-search.php",{typesource:e,term:t.term},n)},minLength:2,select:n,html:!0,open:function(e,t){$(".ui-autocomplete").css("z-index",1e3)}})}function setSelectOptions(e,t){$(e).find("option").each(function(){1==t?$(this).attr("selected","selected"):$(this).removeAttr("selected")})}function habilitarLink(e,t){t?$(e).hasClass("disabled")&&$(e).removeClass("disabled").attr("href",$(e).data("href")).removeAttr("disabled"):$(e).hasClass("disabled")||$(e).addClass("disabled").data("href",$(e).attr("href")).attr("href","javascript:void(0)").attr("disabled","disabled")}function habilitarControl(e,t){1==t?$(e).removeAttr("disabled").removeClass("disabled"):$(e).attr("disabled","-1").addClass("disabled")}function enterTextArea(e,t){$(e).keyup(function(e){17==e.which&&(isCtrl=!1)}).keydown(function(e){if(17==e.which&&(isCtrl=!0),13==e.which&&1==isCtrl)return $(t).focus(),isCtrl=!1,!1})}function showEditForm(e){$(e).show()}function closeEditForm(e){$(e).hide(),precargaExp(".divload",!1)}function ConvertMySQLDate(e){var t=new String(e),n="",o="",a="",i="";return dateSlash=t.split("-"),o=dateSlash[0],a=dateSlash[1],dayIncoming=dateSlash[2],i=new String(dayIncoming).split(" "),i=i[0],n=i+"/"+a+"/"+o}function ConvertMySQLTime(e){var t=new String(e);return dateSpace=t.split(" "),strTime=dateSpace[1],strTime}function buscarItem(e,t){var n,o;for(n=0;n<e.length&&e[n]!=t;n++);return o=n<e.length?n:-1}function convertDate(e){function t(e){return e<10?"0"+e:e}var n=new Date(e);return[t(n.getDate()),t(n.getMonth()+1),n.getFullYear()].join("/")}function dialogo(e,t,n,o,a){var i=!1;$(e).removeClass("oculto"),i=null!=a&&a,$(e).dialog({bgiframe:!0,draggable:!0,title:o,width:t,height:n,position:"center",modal:!0,resizable:i,hide:"fade",overlay:{backgroundColor:"#336699",opacity:.5},create:function(){$("form").append($("body > .ui-widget-overlay")),$("form").append($(e).parent())},open:function(){$("form").append($("body > .ui-widget-overlay")),$("form").append($(e).parent())},close:function(){$(e).addClass("oculto"),$("form").append($(e).parent())}})}function cargarDatePicker(e,t){$(e).datepicker({dateFormat:"dd/mm/yy",changeMonth:!0,changeYear:!0,showMonthAfterYear:!1,onSelect:t},$.datepicker.regional.es)}function onlyNumbers(e){var t=e.which?e.which:e.keyCode;return!(46!=t&&t>31&&(t<48||t>57))}function MessageBox(e,t,n,o){$.MetroMessageBox({title:e,content:t,NormalButton:"#232323",ActiveButton:"#a20025",buttons:n},o)}function audioNotif(e){var t=document.createElement("audio"),n="";"BigBox"==e&&(n="scripts/metro-alert/sound/bigbox.mp3"),t.setAttribute("src",n),t.addEventListener("load",function(){t.play()},!0),t.pause(),t.play()}function resetForm(e){var t=document.getElementById(e);$("#hdIdPrimary").val("0"),t.reset()}function showErrorsInValidate(e,t){$.each(this.validElements(),function(e,t){var n=$(t);n.data("title","").removeClass("error state").tooltip("destroy"),n.parent("div").removeClass("error-state")}),$.each(t,function(e,t){var n=$(t.element);n.tooltip("destroy").data("title",t.message).addClass("error state").tooltip(),n.parent("div").addClass("error-state")})}function ApplyValidNumbers(){$(".only-numbers").numeric(".")}function addLeadingZero(e){return e<10?"0"+e:""+e}function GetToday(){var e=new Date,t=e.getDate(),n=e.getMonth()+1,o=e.getFullYear();return t<10&&(t="0"+t),n<10&&(n="0"+n),e=t+"/"+n+"/"+o}function padZero(e,t){for(var n=e+"";n.length<t;)n="0"+n;return n}function toggleSlideButton(e,t,n){var o="",a="";$(e).hasClass("active")?(o=n.icon_active,a=n.msje_active,$(e).removeClass("active"),$(t).slideUp()):(o=n.icon_deactive,a=n.msje_deactive,$(e).addClass("active"),$(t).slideDown()),$(e).find(".content img").attr("src",o),$(e).find(".content .text").html(a)}function toggleSlidePanel(e,t){0==t?$(e).is(":visible")&&($(".control-app",parent.document).removeClass("oculto"),$(e).hide("slide",{direction:"right"},400)):$(e).is(":visible")||($(".control-app",parent.document).addClass("oculto"),$(e).show("slide",{direction:"right"},400))}function toggleOptions(e,t){0==t?$(e).is(":visible")&&$(e).hide("slide",{direction:"left"},400):$(e).is(":visible")||$(e).show("slide",{direction:"left"},400)}function openModal(e){$(e+".custombox-modal").css({transition:"600ms","-webkit-transition":"600ms"}).addClass("custombox-slit").addClass("custombox-show").after('<div class="modal-example-overlay"></div>')}function closeModal(e){$(e+".custombox-modal").removeClass("custombox-slit").removeClass("custombox-show").removeAttr("style").nextAll(".modal-example-overlay").remove()}function openCustomModal(e){var t=0,n="";t=$(".modal-example-content:visible").zIndex(),$(e).fadeIn(300,function(){}),t>0&&$(e).zIndex(t+2),e=e.substring(1,e.length),t>0&&(n=' style="z-index: '+(t+1)+';"'),$("body").append('<div id="over'+e+'" class="modal-example-overlay"'+n+"></div>")}function closeCustomModal(e){var t="";if("string"!=typeof e){var n=getParentsUntil(e,"body",".modal-example-content");t="#"+n[0].getAttribute("id"),console.log(t)}else t=e;$(t).fadeOut(300,function(){}),t=t.substring(1,t.length),$("#over"+t).remove()}function openModalCallBack(e,t){var n=0,o="";n=$(".modal-example-content:visible").zIndex(),$(e).fadeIn(400,function(){t()}),n>0&&$(e).zIndex(n+2),e=e.substring(1,e.length),n>0&&(o=' style="z-index: '+(n+1)+';"'),$("body").append('<div id="over'+e+'" class="modal-example-overlay"'+o+"></div>")}function hideTopCharmOptions(){var e=$("#charmOptions",top.document);e.is(":visible")&&e.hide("slide",{direction:"right"},300)}function mostrarPanel(e,t){var n=$(e);n.fadeIn(1,function(){precargaExp(e,!0)}),frame=$("<iframe></iframe>").attr({scrolling:"no",marginwidth:"0",marginheight:"0",width:"100%",height:"100%",frameborder:"no",src:t}).load(function(){precargaExp(e,!1),$(this).contents().find("body, body *").on("click",function(e){hideTopCharmOptions()})}),n.html("").append(frame)}function setSpecialTab(e,t){$(e+".special-tab > .menu").on("click","li > a",function(n){var o="";n.preventDefault(),o=$(this).attr("href"),$(e+".special-tab > .menu li a.active").removeClass("active"),$(this).addClass("active"),$(e+" > .content > .paneltab").hide(),$(o).fadeIn("400",function(){t()})}).find("li:first-child a").addClass("active")}function habilitarDiv(e,t){t?$(e+" .panel-bloqueo").fadeOut(300):$(e+" .panel-bloqueo").fadeIn(300)}function startTime(){var e,n=0,o="",a="";e=new Date,n=e.getMonth()+1,a=addLeadingZero(e.getDate()),o=addLeadingZero(n),h=e.getHours(),m=e.getMinutes(),s=e.getSeconds(),m=addLeadingZero(m),s=addLeadingZero(s),document.getElementById("reloj").innerHTML=a+"/"+o+"/"+e.getFullYear()+" "+h+":"+m+":"+s,t=setTimeout(startTime,500)}function BackToPrevPanel(){$(".inner-page:visible").fadeOut(400,function(){$(this).prev().fadeIn(400,function(){})})}function getStyle(e,t){var n,o=(e.ownerDocument||document).defaultView;return o&&o.getComputedStyle?(t=t.replace(/([A-Z])/g,"-$1").toLowerCase(),o.getComputedStyle(e,null).getPropertyValue(t)):e.currentStyle?(t=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),n=e.currentStyle[t],/^\d+(em|pt|%|ex)?$/i.test(n)?function(t){var n=e.style.left,o=e.runtimeStyle.left;return e.runtimeStyle.left=e.currentStyle.left,e.style.left=t||0,t=e.style.pixelLeft+"px",e.style.left=n,e.runtimeStyle.left=o,t}(n):n):void 0}function ajustarColumnas(e){$(e+" tbody tr").length>0&&($(e+" tbody tr:last td").each(function(t,n){var o,a=0;o=$(e+" thead th"),a=o.length,a>0&&$(o[t]).width($(n).width())}),$(e+" .ihead").height("auto"),$(e+" .ibody").css("padding-top",$(e+" .ihead").height()))}function getParameterByName(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=t.exec(location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))}function Interval(e,t){var n=!1;this.start=function(){this.isRunning()||(n=setInterval(e,t))},this.stop=function(){clearInterval(n),n=!1},this.isRunning=function(){return n!==!1}}function ListarUbicacion(e,t,n,o){$.ajax({url:"services/ubigeo/ubigeo-search.php",type:"GET",dataType:"json",data:{tipobusqueda:"3",id:t},success:function(t){var a=0,i=0,r="",s="";if(i=t.length,i>0)for(;a<i;)"0"!=n&&(s=n==t[a].tm_idubigeo?' selected="selected"':""),r+='<option value="'+t[a].tm_idubigeo+'" data-referencia="'+t[a].tm_idubigeoref+'" '+s+">"+t[a].tm_nombre+"</option>",++a;else r='<option value="0" data-referencia="0">No hay ubicaciones relacionadas</option>';$(e).html(r),o()},error:function(e){console.log(e)}})}function RedondeoMagico(e){var t=e,n=e.toString(),o=Number(n.substr(n.length-1)),a=(10-o)/100;return t=Number(t),a=Number(a),o>0&&(t+=a),t}function ProyectoById(e){$.ajax({url:"services/condominio/condominio-search.php",type:"GET",dataType:"json",data:{tipo:"defecto",tipobusqueda:e},success:function(e){var t=0,n="0",o="";t=e.length,t>0&&(n=e[0].idproyecto,o=e[0].nombreproyecto+" | Proceso: "+arrMeses[parseInt(e[0].mesproceso)-1]+" "+e[0].anhoproceso,$("#ddlMes").val(e[0].mesproceso),setProyecto("#pnlInfoProyecto",n,o),setProyecto("#pnlFiltroProyecto",n,o))},error:function(e){console.log(e)}})}var isCtrl=!1;!function(e){e.fn.clickoutside=function(e){var t=1,n=$(this);return n.cb=e,this.click(function(){t=0}),$(document).click(function(){t&&n.cb(),t=1}),$(this)}}(jQuery),function(e){e.fn.zIndex=function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var n,o,a=e(this[0]);a.length&&a[0]!==document;){if(n=a.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(o=parseInt(a.css("zIndex"),10),!isNaN(o)&&0!==o))return o;a=a.parent()}return this}}(jQuery),function(e){e.fn.liveDraggable=function(t,n){return this.on("mouseover",n,function(){e(this).data("init")||e(this).data("init",!0).draggable(t)}),this}}(jQuery);var getParentsUntil=function(e,t,n){var o=[];if(t)var a=t.charAt(0);if(n)var i=n.charAt(0);for(;e&&e!==document;e=e.parentNode){if(t){if("."===a&&e.classList.contains(t.substr(1)))break;if("#"===a&&e.id===t.substr(1))break;if("["===a&&e.hasAttribute(t.substr(1,t.length-1)))break;if(e.tagName.toLowerCase()===t)break}n?("."===i&&e.classList.contains(n.substr(1))&&o.push(e),"#"===i&&e.id===n.substr(1)&&o.push(e),"["===i&&e.hasAttribute(n.substr(1,n.length-1))&&o.push(e),e.tagName.toLowerCase()===n&&o.push(e)):o.push(e)}return 0===o.length?null:o};serializa=function(e,t){var n=[];for(var o in e){var a=t?t+"["+o+"]":o,i=e[o];a=a.replace(/"/g,""),n.push("object"==typeof i?serializa(i,a):encodeURIComponent(a)+"="+encodeURIComponent(i))}return n.join("&")},String.prototype.repeat=function(e){return new Array(e+1).join(this)},$(function(){$(document).on("click touchend",'.grouped-buttons > [data-action="more"]',function(e){e.preventDefault(),e.stopPropagation();var t=$(this).parent();t.hasClass("fixed")?t.removeClass("fixed"):($(".grouped-buttons.fixed").removeClass("fixed"),t.addClass("fixed"))}),$(document).on("click touchend",function(e){$(this).is(e.target)||$(e.target).closest(".dropdown").length||($(".grouped-buttons.fixed").hasClass("fixed")&&$(".grouped-buttons.fixed").removeClass("fixed"),$(".dropdown.is-visible").hasClass("is-visible")&&$(".dropdown.is-visible").removeClass("is-visible"))})});